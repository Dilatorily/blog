<!DOCTYPE html><html lang="en"><head><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta charSet="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="#ff7e71" name="theme-color"/><title>Huy Dang Lê-Ngô&#x27;s Blog</title><link href="/assets/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/assets/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/assets/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/><link href="/assets/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/assets/manifest.json" rel="manifest"/><link color="#ff7e71" href="/assets/safari-pinned-tab.svg" rel="mask-icon"/><meta content="Huy Dang Lê-Ngô&#x27;s Blog" name="apple-mobile-web-app-title"/><meta content="Huy Dang Lê-Ngô&#x27;s Blog" name="application-name"/><meta content="#ff7e71" name="msapplication-TileColor"/><meta content="/assets/mstile-144x144.png" name="msapplication-TileImage"/><style type="text/css">@font-face{font-family:Raleway;src:url(/assets/Raleway-Thin-QWWIQBAI.ttf) format("truetype");font-style:normal;font-weight:100;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Thin-Italic-GW5WKNTK.ttf) format("truetype");font-style:italic;font-weight:100;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-ExtraLight-3NH5WSLB.ttf) format("truetype");font-style:normal;font-weight:200;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-ExtraLight-Italic-VH6T2AZA.ttf) format("truetype");font-style:italic;font-weight:200;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Light-O7MLYXTZ.ttf) format("truetype");font-style:normal;font-weight:300;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Light-Italic-FL4FXKFU.ttf) format("truetype");font-style:italic;font-weight:300;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Regular-7ZFTV24D.ttf) format("truetype");font-style:normal;font-weight:400;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Regular-Italic-P4AKR54A.ttf) format("truetype");font-style:italic;font-weight:400;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Medium-JANZU7LG.ttf) format("truetype");font-style:normal;font-weight:500;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Medium-Italic-O2OPEY43.ttf) format("truetype");font-style:italic;font-weight:500;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-SemiBold-B5STV64K.ttf) format("truetype");font-style:normal;font-weight:600;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-SemiBold-Italic-IRWDAEUH.ttf) format("truetype");font-style:italic;font-weight:600;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Bold-3KTCC6VX.ttf) format("truetype");font-style:normal;font-weight:700;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Bold-Italic-OHBNL7CI.ttf) format("truetype");font-style:italic;font-weight:700;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-ExtraBold-D4WQXBZX.ttf) format("truetype");font-style:normal;font-weight:800;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-ExtraBold-Italic-CS5JWRNY.ttf) format("truetype");font-style:italic;font-weight:800;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Black-H5GVDTFN.ttf) format("truetype");font-style:normal;font-weight:900;text-rendering:optimizeLegibility}@font-face{font-family:Raleway;src:url(/assets/Raleway-Black-Italic-ZJGET35C.ttf) format("truetype");font-style:italic;font-weight:900;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-Thin-QOAY5XYH.ttf) format("truetype");font-style:normal;font-weight:100;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-ThinItalic-5GVOGY4S.ttf) format("truetype");font-style:italic;font-weight:100;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-Light-VTQ6N36S.ttf) format("truetype");font-style:normal;font-weight:300;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-LightItalic-G5AAPTRY.ttf) format("truetype");font-style:italic;font-weight:300;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-Regular-ARDXJNA7.ttf) format("truetype");font-style:normal;font-weight:400;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-Italic-647K25TK.ttf) format("truetype");font-style:italic;font-weight:400;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-Medium-5WKJZGYD.ttf) format("truetype");font-style:normal;font-weight:500;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-MediumItalic-KPQLT4EP.ttf) format("truetype");font-style:italic;font-weight:500;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-Bold-R7W7VCW5.ttf) format("truetype");font-style:normal;font-weight:700;text-rendering:optimizeLegibility}@font-face{font-family:Roboto Mono;src:url(/assets/RobotoMono-BoldItalic-WFTVZD3Q.ttf) format("truetype");font-style:italic;font-weight:700;text-rendering:optimizeLegibility}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}body{color:#423737;font-family:Raleway,sans-serif}.a6knicd{display:inline-block;margin-right:20px;-webkit-transition:.25s ease-in-out,outline 0s,outline-offset 0s;transition:.25s ease-in-out,outline 0s,outline-offset 0s}.a6knicd:focus{outline:2px solid #ffffff;outline-offset:1px}.a6knicd:focus .itdx79y{border-radius:25px}.itdx79y{border-radius:50%;-webkit-transition:.25s ease-in-out;transition:.25s ease-in-out;vertical-align:middle;width:100px}.itdx79y:hover{border-radius:25px}@media only screen and (max-width:360px){.itdx79y{margin-bottom:10px}}.c1qfwlep{background-color:#ff7e71;height:100px;margin-bottom:50px;padding:20px 0;text-align:center}@media only screen and (max-width:360px){.c1qfwlep{height:214px;margin-bottom:30px}}.ln9rjyh{color:#f9f0f0;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.25s ease-in-out,outline 0s,outline-offset 0s;transition:.25s ease-in-out,outline 0s,outline-offset 0s}.ln9rjyh:focus,.ln9rjyh:hover{color:#fff}.ln9rjyh:focus{outline:2px solid #ffffff;outline-offset:1px}.na57eaq{font-size:20px;font-weight:600;margin:0}.i1hwzycd{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;fill:#f9f0f0;-webkit-transition:.25s ease-in-out,outline 0s,outline-offset 0s;transition:.25s ease-in-out,outline 0s,outline-offset 0s}.i1hwzycd:focus,.i1hwzycd:hover{fill:#fff}.i1hwzycd:focus{outline:2px solid #ffffff;outline-offset:1px}.sn6nyr{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex}.s7xnbks{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style-type:none;margin:0;padding:0}.s7xnbks .sn6nyr+.sn6nyr{margin-left:4px}.t1yh7e5i{display:inline-block;vertical-align:middle;text-align:left}@media only screen and (max-width:360px){.t1yh7e5i{display:block;text-align:center}}.ti4t854{font-size:16px;font-weight:400;margin:0}.lrytmzq{background-color:#fff;color:#ff7e71;left:5px;padding:8px;position:fixed;-webkit-text-decoration:none;text-decoration:none;top:5px;-webkit-transition:.25s ease-in-out,clip 0s,outline 0s,outline-offset 0s;transition:.25s ease-in-out,clip 0s,outline 0s,outline-offset 0s}.lrytmzq:not(:focus){-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0)}.lrytmzq:focus,.lrytmzq:hover{color:#69d2e7}.lrytmzq:focus{outline:2px solid #ff7e71;outline-offset:-4px}.m4i65rz{margin:0 auto 50px;max-width:720px;padding:0 20px}.aww63u2 p,.aww63u2 ul,.aww63u2 ol,.aww63u2 table{font-weight:200}.aww63u2 h1,.aww63u2 h2,.aww63u2 h3,.aww63u2 h4,.aww63u2 h5,.aww63u2 h6,.aww63u2 strong,.aww63u2 th{font-weight:600}.aww63u2 p{font-size:18px}.aww63u2 code{font-family:Roboto Mono,monospace;font-weight:400}.aww63u2 img{max-width:100%}.aww63u2 a{font-weight:500;color:#ff7e71;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:.25s ease-in-out,outline 0s,outline-offset 0s;transition:.25s ease-in-out,outline 0s,outline-offset 0s}.aww63u2 a:focus,.aww63u2 a:hover{color:#69d2e7}.aww63u2 a:focus{outline:2px solid #ff7e71;outline-offset:1px}.aww63u2 pre{padding:15px;overflow-x:auto;background-color:#f9f0f0}.aww63u2 blockquote{margin:0;padding:5px 40px;border-left:3px solid #ff7e71;background-color:#f9f0f0}.aww63u2 blockquote p{margin:0}.aww63u2 table{display:block;max-width:100%;overflow-x:auto;border-collapse:collapse}.aww63u2 table thead{background-color:#f9f0f0}.aww63u2 table thead th{padding:5px 10px;border-bottom:3px solid #ff7e71;text-align:left}.aww63u2 table tbody tr:nth-child(even){background-color:#f9f0f0}.aww63u2 table tbody td{padding:5px 10px}.aww63u2 hr{border-top:3px dotted #ff7e71;border-bottom:none;border-left:none;border-right:none;margin:30px 30%}.aww63u2 .hljs-comment,.aww63u2 .hljs-quote{color:#999;font-style:italic}.aww63u2 .hljs-keyword,.aww63u2 .hljs-selector-tag,.aww63u2 .hljs-subst{color:#423737;font-weight:700}.aww63u2 .hljs-number,.aww63u2 .hljs-literal,.aww63u2 .hljs-variable,.aww63u2 .hljs-template-variable,.aww63u2 .hljs-tag .hljs-attr{color:#48909d}.aww63u2 .hljs-string,.aww63u2 .hljs-doctag{color:#ff7e71}.aww63u2 .hljs-title,.aww63u2 .hljs-section,.aww63u2 .hljs-selector-id{color:#d35e97;font-weight:700}.aww63u2 .hljs-subst{font-weight:400}.aww63u2 .hljs-type,.aww63u2 .hljs-class .hljs-title{color:#3558ca;font-weight:700}.aww63u2 .hljs-tag,.aww63u2 .hljs-name,.aww63u2 .hljs-attribute{color:#092274;font-weight:400}.aww63u2 .hljs-regexp,.aww63u2 .hljs-link{color:#99cf42}.aww63u2 .hljs-symbol,.aww63u2 .hljs-bullet{color:#d35e97}.aww63u2 .hljs-built_in,.aww63u2 .hljs-builtin-name{color:#44c0d7}.aww63u2 .hljs-meta{color:#999;font-weight:700}.aww63u2 .hljs-deletion{background:#ffdddd}.aww63u2 .hljs-addition{background:#ddffdd}.aww63u2 .hljs-emphasis{font-style:italic}.aww63u2 .hljs-strong{font-weight:700}.t104g642{color:#ff7e71;font-size:16px;font-style:italic;font-weight:400}</style></head><body><a href="#main" class="lrytmzq">Skip to main content</a><header class="c1qfwlep"><a href="/" class="a6knicd"><img alt="Home" src="/assets/Avatar-2KA5T3BV.jpg" class="itdx79y"/></a><div class="t1yh7e5i"><h4 class="na57eaq">Huy Dang Lê-Ngô</h4><h5 class="ti4t854">Senior Front-End Engineer <a href="https://slack.com" title="Slack" class="ln9rjyh">@Slack</a></h5><ol class="s7xnbks"><li class="sn6nyr"><a href="https://www.linkedin.com/in/dilatorily" title="LinkedIn" class="i1hwzycd"><svg height="18" viewBox="0 0 448 512" width="18"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></li><li class="sn6nyr"><a href="https://github.com/Dilatorily" title="GitHub" class="i1hwzycd"><svg height="18" viewBox="0 0 496 512" width="18"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="sn6nyr"><a href="https://twitter.com/Dagneau" title="Twitter" class="i1hwzycd"><svg height="18" viewBox="0 0 512 512" width="18"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li></ol></div></header><main id="main" class="m4i65rz"><h3 class="t104g642">Thursday, August 18th, 2016</h3><article class="aww63u2"><h1 id="bundling-assets-with-webpack">Bundling assets with Webpack</h1>
<p>As a developer, sharing code with others is one of the most crucial aspect of our work. That is why using modules in our code is useful, as it creates small and manageable packages that can be share throughout our applications and across teams and individuals.</p>
<p>In the JavaScript world, there are multiple module formats that were conceived to solve different problems. However, different formats lead to a lot of friction when we are trying to glue our modules together. Module bundlers such as <a href="http://browserify.org">Browserify</a> and <a href="http://jspm.io">jspm</a> were conceived to simplify that process. We will be using <a href="http://webpack.github.io">Webpack</a> for our application because it has certain features that makes it more desirable compared to other module bundlers.</p>
<hr/>
<p>Starting with the code from the <a href="/posts/2016-07-18">last post</a>, we will need to install Webpack as a dependency to our application. Webpack will automatically use the file <code>webpack.config.js</code> as its configuration file. Thus, we will need to also create it.</p>
<pre><code class="language-shell">$ npm i -D webpack
$ touch webpack.config.js
</code></pre>
<p>The Webpack configuration file is fairly overwhelming, so let&#x27;s break down every part of it. First, to be used by Webpack itself, it needs to export a JavaScript object literal under the <a href="https://github.com/commonjs/commonjs">CommonJS</a> format. The CommonJS module format implemented in Node.js is fairly simple. We import and export modules by using the following constructs.</p>
<pre><code class="language-javascript">// Importing modules
const nodeJsModule = require(&#x27;name-of-package&#x27;);
const relativeModule = require(&#x27;./relative/path/to/file.js&#x27;);

// Exporting modules
module.exports = moduleToExport;
</code></pre>
<p>Therefore, the content of the <code>webpack.config.js</code> file should contain the following code.</p>
<pre><code class="language-javascript">module.exports = {
    // Rest of the Webpack configuration object
};
</code></pre>
<hr/>
<p>Webpack works by creating a dependency tree from the entry files, and it bundles them up together in a bundle file. It is also smart enough to split the bundle in multiple files when certain parts should be loaded asynchronously.</p>
<p>Thus, the <code>entry</code> attribute of the configuration object should describe what files to bundle together for our application. Since we don&#x27;t have a JavaScript entry point for the client code, we should create a <code>src/application.js</code> file.</p>
<pre><code class="language-shell">$ touch src/application.js
</code></pre>
<p>Let&#x27;s also modify our <code>src/index.html</code> file accordingly.</p>
<pre><code class="language-diff">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Agate&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
-        &lt;h1&gt;Hello, World!&lt;/h1&gt;
+        &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Finally, we want to show that the file is loaded properly. We can tell it to create an <code>&lt;h1&gt;</code> node that contains a string to show that it is working properly.</p>
<pre><code class="language-javascript">const rootNode = document.getElementById(&#x27;root&#x27;);
const headingNode = document.createElement(&#x27;h1&#x27;);
const greetings = document.createTextNode(&#x27;Hello, World!&#x27;);

headingNode.appendChild(greetings);
rootNode.appendChild(headingNode);
</code></pre>
<p>Now that we have an entry file, we can fill the <a href="https://webpack.github.io/docs/configuration.html#entry"><code>entry</code></a> attribute of the Webpack configuration file!</p>
<pre><code class="language-diff">module.exports = {
+    entry: &#x27;./src/application.js&#x27;
};
</code></pre>
<hr/>
<p>Even though we have an <code>entry</code> attribute, Webpack will not be able to output the bundle if the <a href="https://webpack.github.io/docs/configuration.html#output"><code>output</code></a> object is not present in the configuration file. For our case, we will only need 2 attributes, <code>path</code> and <code>filename</code>, in the <code>output</code> object.</p>
<pre><code class="language-diff">module.exports = {
-    entry: &#x27;./src/application.js&#x27;
+    entry: &#x27;./src/application.js&#x27;,
+    output: {
+        path: &#x27;dist&#x27;,
+        filename: &#x27;[name].[hash].js&#x27;
+    }
};
</code></pre>
<p>The more astute of you will realize that we are not currently referencing the <code>application.js</code> file in the <code>index.html</code> file, so we will not be displaying anything yet. You would be right to think so! Let&#x27;s fix that.</p>
<p>Webpack has a fairly large ecosystem of plugins. One of the more interesting one is <code>html-webpack-plugin</code>. That plugin let&#x27;s us inject the generated bundle files inside of an HTML file. We would then need to install it as a dependency of our project.</p>
<pre><code class="language-shell">$ npm i -D html-webpack-plugin
</code></pre>
<p>Next, we will need to modify the <code>webpack.config.js</code> file to indicate in which HTML file Webpack should inject the bundle and its location. We do so by adding an entry in the <a href="https://webpack.github.io/docs/using-plugins.html"><code>plugins</code></a> attribute.</p>
<pre><code class="language-diff">+const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);
+
module.exports = {
    entry: &#x27;./src/application.js&#x27;,
    output: {
        path: &#x27;dist&#x27;,
        filename: &#x27;[name].[hash].js&#x27;
-    }
+    },
+    plugins: [
+        new HtmlWebpackPlugin({
+            template: &#x27;src/index.html&#x27;,
+            inject: &#x27;body&#x27;
+        })
+    ]
};
</code></pre>
<p>Finally, to use Webpack as part of our build process, let&#x27;s modify our NPM <code>build</code> script in the <code>package.json</code> file to use the Webpack CLI.</p>
<pre><code class="language-diff">&quot;scripts&quot;: {
    &quot;clean&quot;: &quot;rimraf dist&quot;,
    &quot;prebuild&quot;: &quot;npm run clean&quot;,
-    &quot;build&quot;: &quot;babel src -d dist &amp;&amp; cp src/index.html dist&quot;,
+    &quot;build&quot;: &quot;babel src -d dist &amp;&amp; webpack&quot;,
    &quot;prestart&quot;: &quot;npm run build&quot;,
    &quot;start&quot;: &quot;electron dist&quot;
},
</code></pre>
<hr/>
<p>Webpack has a few more features that pushes it from useful to really interesting. One of them is that Webpack overloads the <code>require</code> function from the CommonJS module format to be able to load other file formats than JavaScript files. Indeed, we can load other type of files such as CSS and images. Then, as Webpack loads those files, it can preprocess them and transform them. For now, let&#x27;s preprocess all of our JavaScript files to be transpiled by Babel using <code>babel-loader</code>.</p>
<pre><code class="language-shell">$ npm i -D babel-loader
</code></pre>
<p>We must also configure Webpack to preprocess the JavaScript by adding the <code>babel-loader</code> in the <code>module.loaders</code> attribute.</p>
<pre><code class="language-diff">const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
    entry: &#x27;./src/application.js&#x27;,
    output: {
        path: &#x27;dist&#x27;,
        filename: &#x27;[name].[hash].js&#x27;
    },
    plugins: [
        new HtmlWebpackPlugin({
            template: &#x27;src/index.html&#x27;,
            inject: &#x27;body&#x27;
        })
-    ]
+    ],
+    module: {
+        loaders: [
+            {
+                test: /\.js$/,
+                loader: &#x27;babel&#x27;,
+                exclude: /node_modules/
+            }
+        ]
+    }
}
</code></pre>
<p>The <code>test</code> attribute corresponds to a regular expression that will match all the files it must preprocess. The <code>loader</code> attribute specifies which loader to be used. Note that we can omit the <code>-loader</code> part of <code>babel-loader</code>. Finally, the <code>exclude</code> attribute is used to ignore certain files, specially the ones coming from the <code>node_modules</code> folder.</p>
<hr/>
<p>Similarly to what we just did, we can create another Webpack configuration file to process the main Electron files. We&#x27;ll start by creating the <code>webpack.config.electron.js</code> file.</p>
<pre><code class="language-shell">$ touch webpack.config.electron.js
</code></pre>
<p>Using the same process as we went through before, we should end up with a <code>webpack.config.electron.js</code> file that looks similar to the following one.</p>
<pre><code>module.exports = {
    entry: {
        index: &#x27;./src/index.js&#x27;
    },
    output: {
        path: &#x27;dist&#x27;,
        filename: &#x27;[name].js&#x27;
    },
    module: {
        loaders: [
            {
                test: /\.js$/,
                loader: &#x27;babel&#x27;,
                exclude: /node_modules/
            }
        ]
    }
};
</code></pre>
<p>However, there are some last parts that are missing to make this configuration file working with Electron. Those changes are described by the following diff.</p>
<pre><code class="language-diff">module.exports = {
    entry: {
        index: &#x27;./src/index.js&#x27;
    },
    output: {
        path: &#x27;dist&#x27;,
        filename: &#x27;[name].js&#x27;
    },
    module: {
        loaders: [
            {
                test: /\.js$/,
                loader: &#x27;babel&#x27;,
                exclude: /node_modules/
            }
        ]
-    }
+    },
+    node: {
+        __dirname: false // Tell webpack to not mock or polyfill the __dirname variable
+    },
+    target: &#x27;electron&#x27; // We are using this file with Electron
};
</code></pre>
<p>Finally, we can update our NPM <code>build</code> script to use Webpack to build both parts of our application.</p>
<pre><code class="language-diff">&quot;scripts&quot;: {
    &quot;clean&quot;: &quot;rimraf dist&quot;,
    &quot;prebuild&quot;: &quot;npm run clean&quot;,
-    &quot;build&quot;: &quot;babel src -d dist &amp;&amp; webpack&quot;,
+    &quot;build&quot;: &quot;webpack --config webpack.config.electron.js &amp;&amp; webpack&quot;,
    &quot;prestart&quot;: &quot;npm run build&quot;,
    &quot;start&quot;: &quot;electron dist&quot;
},
</code></pre>
<p>Since we stopped using <code>babel-cli</code> to transpile our application, we can also remove it using the following command.</p>
<pre><code class="language-shell">npm uninstall -D babel-cli
</code></pre>
<p>Just like the <code>install</code> command, the <code>uninstall</code> command has a shortcut, <code>un</code>. Thus, the command above can be rewritten as the following one.</p>
<pre><code class="language-shell">npm un -D babel-cli
</code></pre>
<hr/>
<p>Adding Webpack in our application might not look too beneficial at this point. However, the benefits will become more obvious as we move along in the development of the application. In the next post, I will be reorganizing the code base to make it future-proof, adding <a href="http://eslint.org">ESLint</a> to use a standard coding style and adding unit tests to validate the application.</p>
<p>The code created in this post is available <a href="https://github.com/Dilatorily/agate/tree/2016-08-18">here</a>.</p>
</article></main><link href="/assets/styles.8e5b6a31552c1032ef65207554c56638.css" rel="stylesheet"/></body></html>